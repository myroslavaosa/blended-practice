var m=t=>{throw TypeError(t)};var d=(t,e,r)=>e.has(t)||m("Cannot "+r);var a=(t,e,r)=>(d(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>e.has(t)?m("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),P=(t,e,r,o)=>(d(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);import"./assets/styles-DTcfEY67.js";import{a as f,P as _,i as y}from"./assets/vendor-BKPtS7zm.js";var i,l,c;class M{constructor(){u(this,i,"https://api.unsplash.com/search/photos");u(this,l,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");u(this,c,"")}async getPopularPhotos(e){const r=`${a(this,i)}?page=${e}&per_page=12&query=popular&orientation=portrait&client_id=${a(this,l)}`;try{return(await f(r)).data}catch(o){console.log(o)}}async getPhotosByQuery(e){const r=`${a(this,i)}?page=${e}&per_page=12&query=${a(this,c)}&orientation=portrait&client_id=${a(this,l)}`;try{return(await f(r)).data}catch(o){console.log(o)}}set query(e){P(this,c,e)}}i=new WeakMap,l=new WeakMap,c=new WeakMap;function h(t){return t.map(e=>`<li class="gallery__item">
        <img class="gallery-img" alt="${e.alt_description}" src="${e.urls.small}" />
      </li>`).join("")}const p=document.querySelector(".gallery"),S=document.querySelector(".search-form"),$=document.querySelector('[name="query"]'),g=document.querySelector(".loader"),w=document.getElementById("tui-pagination-container"),s=new _(w,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),q=s.getCurrentPage(),n=new M;n.getPopularPhotos(q).then(t=>{const e=h(t.results);s.reset(t.total),p.innerHTML=e,console.log(t)});function L(t){const e=t.page;n.getPopularPhotos(e).then(r=>{const o=h(r.results);p.innerHTML=o,console.log(r)})}function v(t){const e=t.page;g.classList.remove("is-hidden"),n.getPhotosByQuery(e).then(r=>{const o=h(r.results);p.innerHTML=o,console.log(r)}).catch(r=>{console.log(r),y.error({message:"Something went wrong"})}).finally(()=>g.classList.add("is-hidden"))}s.on("afterMove",L);S.addEventListener("submit",async t=>{t.preventDefault();const e=$.value.trim();if(e===""){y.info({message:"Enter something for search"});return}n.query=e,s.off("afterMove",L),s.off("afterMove",v),g.classList.remove("is-hidden");try{const r=await n.getPhotosByQuery(q);if(r.results.length===0){y.warning({message:"Sorry, there are no images matching your search query. Please try again!"});return}s.on("afterMove",v);const o=h(r.results);p.innerHTML=o,s.reset(r.total)}catch(r){console.log(r)}finally{g.classList.add("is-hidden")}});
//# sourceMappingURL=gallery.js.map
