var y=t=>{throw TypeError(t)};var h=(t,e,r)=>e.has(t)||y("Cannot "+r);var n=(t,e,r)=>(h(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>e.has(t)?y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),m=(t,e,r,o)=>(h(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);import"./assets/styles-equtDhrE.js";import{a as P,P as _,i as f}from"./assets/vendor-BKPtS7zm.js";var i,c,l;class M{constructor(){u(this,i,"https://api.unsplash.com/search/photos");u(this,c,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");u(this,l,"")}async getPopularPhotos(e){const r=`${n(this,i)}?page=${e}&per_page=12&query=popular&orientation=portrait&client_id=${n(this,c)}`;try{return(await P(r)).data}catch(o){console.log(o)}}async getPhotosByQuery(e){const r=`${n(this,i)}?page=${e}&per_page=12&query=${n(this,l)}&orientation=portrait&client_id=${n(this,c)}`;try{return(await P(r)).data}catch(o){console.log(o)}}set query(e){m(this,l,e)}}i=new WeakMap,c=new WeakMap,l=new WeakMap;function g(t){return t.map(e=>`<li class="gallery__item">
        <img class="gallery-img" alt="${e.alt_description}" src="${e.urls.small}" />
      </li>`).join("")}const p=document.querySelector(".gallery"),$=document.querySelector(".search-form"),B=document.querySelector('[name="query"]'),L=document.getElementById("tui-pagination-container"),a=new _(L,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),q=a.getCurrentPage(),s=new M;s.getPopularPhotos(q).then(t=>{const e=g(t.results);a.reset(t.total),p.innerHTML=e,console.log(t)});function v(t){const e=t.page;s.getPopularPhotos(e).then(r=>{const o=g(r.results);p.innerHTML=o,console.log(r)})}function d(t){const e=t.page;s.getPhotosByQuery(e).then(r=>{const o=g(r.results);p.innerHTML=o,console.log(r)})}a.on("afterMove",v);$.addEventListener("submit",async t=>{t.preventDefault();const e=B.value.trim();if(e===""){f.info({message:"Enter something for search"});return}s.query=e,a.off("afterMove",v),a.off("afterMove",d);try{const r=await s.getPhotosByQuery(q);if(r.results.length===0){f.warning({message:"Sorry, there are no images matching your search query. Please try again!"});return}a.on("afterMove",d);const o=g(r.results);p.innerHTML=o,a.reset(r.total)}catch(r){console.log(r)}});
//# sourceMappingURL=gallery.js.map
