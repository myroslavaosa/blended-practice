{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/modul-10.js","../src/img/javascript.svg","../src/js/storage.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.login-form'),\n  emailInfo: document.querySelector('[name=\"email\"]'),\n  passwordInfo: document.querySelector('[name=\"password\"]'),\n  btn: document.querySelector('[name=\"button\"]'),\n  date: document.querySelector('.date span'),\n};\n","// Додай відображення дати і часу в реальному часі\n\nimport { refs } from './refs';\n\nsetInterval(() => {\n  refs.date.textContent = new Date().toLocaleString();\n}, 1000);\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23F7DF1E'%20d='M0%200h256v256H0V0Z'%3e%3c/path%3e%3cpath%20d='m67.312%20213.932l19.59-11.856c3.78%206.701%207.218%2012.371%2015.465%2012.371c7.905%200%2012.89-3.092%2012.89-15.12v-81.798h24.057v82.138c0%2024.917-14.606%2036.259-35.916%2036.259c-19.245%200-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157%208.421%2011.859%2014.607%2023.715%2014.607c9.969%200%2016.325-4.984%2016.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044%2013.747-31.792%2035.228-31.792c15.294%200%2026.292%205.328%2034.196%2019.247l-18.732%2012.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046%200-11.514%204.468-11.514%2010.31c0%207.217%204.468%2010.14%2014.778%2014.608l6.014%202.577c20.45%208.765%2031.963%2017.7%2031.963%2037.804c0%2021.654-17.012%2033.51-39.867%2033.51c-22.339%200-36.774-10.654-43.819-24.574'%3e%3c/path%3e%3c/svg%3e\"","export const save = (key, obj) => {\n  localStorage.setItem(key, JSON.stringify(obj));\n};\n\nexport const get = key => {\n  const lsData = localStorage.getItem(key);\n  if (lsData) {\n    const parseData = JSON.parse(lsData);\n    return parseData;\n  }\n};\n\nexport const remove = key => {\n  localStorage.removeItem(key);\n};","// Перед вами форма для авторизації на сайті (правильні дані для входу збережені в обʼєкті USER_DATA)\n\n// Розбийте код на кілька файлів:\n// storage.js - функції для роботи зі сховищем;\n// refs.js - посилання на всі потрібні елементи в html;\n// main.js - головний файл, де вся основна логіка додатка.\n// Ви маєте додати перевірку введених даних при сабміті:\n// Якщо введені дані не збігаються зі збереженими, викликайте аlert і\n// повідомляйте про помилку.\n\n// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми\n// у локальне сховище і змінюйте кнопку Login на Logout, також робіть поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач авторизован, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// з локального сховища.\nimport './js/modul-10';\nimport icon from './img/javascript.svg';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\nimport { refs } from './js/refs';\nimport { get, remove, save } from './js/storage';\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\n\nconst LS_KEY = 'userdata';\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  if (refs.btn.textContent === 'Logout') {\n    remove(LS_KEY);\n    refs.form.reset();\n    refs.emailInfo.removeAttribute('readonly');\n    refs.passwordInfo.removeAttribute('readonly');\n    refs.btn.textContent = 'Login';\n    return;\n  }\n  const emailInput = refs.emailInfo.value.trim();\n  const passwordInput = refs.passwordInfo.value.trim();\n  if (emailInput === '' || passwordInput === '') {\n    iziToast.warning({\n      iconUrl: icon,\n      title: 'Caution',\n      message: 'Pls put something it!',\n    });\n    return;\n  }\n  if (emailInput !== USER_DATA.email || passwordInput !== USER_DATA.password) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Wrong password or email!',\n    });\n    return;\n  }\n  save(LS_KEY, {\n    email: emailInput,\n    password: passwordInput,\n  });\n  refs.btn.textContent = 'Logout';\n  refs.emailInfo.setAttribute('readonly', true);\n  refs.passwordInfo.setAttribute('readonly', true);\n});\n\nconst parseData = get(LS_KEY);\nif (parseData) {\n  refs.emailInfo.value = parseData.email || '';\n  refs.passwordInfo.value = parseData.password || '';\n\n  refs.emailInfo.setAttribute('readonly', true);\n  refs.passwordInfo.setAttribute('readonly', true);\n  refs.btn.textContent = 'Logout';\n}\n"],"names":["refs","icon","save","key","obj","get","lsData","remove","USER_DATA","LS_KEY","e","emailInput","passwordInput","iziToast","parseData"],"mappings":"svBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,aAAa,EAC1C,UAAW,SAAS,cAAc,gBAAgB,EAClD,aAAc,SAAS,cAAc,mBAAmB,EACxD,IAAK,SAAS,cAAc,iBAAiB,EAC7C,KAAM,SAAS,cAAc,YAAY,CAC3C,ECFA,YAAY,IAAM,CAChBA,EAAK,KAAK,YAAc,IAAI,KAAM,EAAC,eAAc,CACnD,EAAG,GAAI,ECNP,MAAeC,EAAA,qpCCAFC,EAAO,CAACC,EAAKC,IAAQ,CAChC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAG,CAAC,CAC/C,EAEaC,EAAMF,GAAO,CACxB,MAAMG,EAAS,aAAa,QAAQH,CAAG,EACvC,GAAIG,EAEF,OADkB,KAAK,MAAMA,CAAM,CAGvC,EAEaC,EAASJ,GAAO,CAC3B,aAAa,WAAWA,CAAG,CAC7B,ECUMK,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EAEMC,EAAS,WAEfT,EAAK,KAAK,iBAAiB,SAAUU,GAAK,CAExC,GADAA,EAAE,eAAc,EACZV,EAAK,IAAI,cAAgB,SAAU,CACrCO,EAAOE,CAAM,EACbT,EAAK,KAAK,QACVA,EAAK,UAAU,gBAAgB,UAAU,EACzCA,EAAK,aAAa,gBAAgB,UAAU,EAC5CA,EAAK,IAAI,YAAc,QACvB,MACD,CACD,MAAMW,EAAaX,EAAK,UAAU,MAAM,KAAI,EACtCY,EAAgBZ,EAAK,aAAa,MAAM,KAAI,EAClD,GAAIW,IAAe,IAAMC,IAAkB,GAAI,CAC7CC,EAAS,QAAQ,CACf,QAASZ,EACT,MAAO,UACP,QAAS,uBACf,CAAK,EACD,MACD,CACD,GAAIU,IAAeH,EAAU,OAASI,IAAkBJ,EAAU,SAAU,CAC1EK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0BACf,CAAK,EACD,MACD,CACDX,EAAKO,EAAQ,CACX,MAAOE,EACP,SAAUC,CACd,CAAG,EACDZ,EAAK,IAAI,YAAc,SACvBA,EAAK,UAAU,aAAa,WAAY,EAAI,EAC5CA,EAAK,aAAa,aAAa,WAAY,EAAI,CACjD,CAAC,EAED,MAAMc,EAAYT,EAAII,CAAM,EACxBK,IACFd,EAAK,UAAU,MAAQc,EAAU,OAAS,GAC1Cd,EAAK,aAAa,MAAQc,EAAU,UAAY,GAEhDd,EAAK,UAAU,aAAa,WAAY,EAAI,EAC5CA,EAAK,aAAa,aAAa,WAAY,EAAI,EAC/CA,EAAK,IAAI,YAAc"}